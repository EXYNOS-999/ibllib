<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>get_units_bunch &mdash; Brainbox 0.1.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="Brainbox 0.1.0 documentation" href="../index.html" >
    <link rel="up" title="brainbox.processing: Functions for transforming data" href="../modules/processing.html" >
    <link rel="next" title="sync" href="brainbox.processing.processing.sync.html" >
    <link rel="prev" title="filter_units" href="brainbox.processing.processing.filter_units.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="["></a></li>
        <li class="active"><a href="]"></a></li>
	
        <li class="active"><a href="../index.html">Brainbox 0.1.0 documentation</a></li>
	
          <li class="active"><a href="../modules/processing.html" accesskey="U"><cite>brainbox.processing</cite>: Functions for transforming data</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="brainbox.processing.processing.sync.html" title="sync"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="brainbox.processing.processing.filter_units.html" title="filter_units"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="brainbox.processing.processing.filter_units.html"
                        title="previous chapter">filter_units</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="brainbox.processing.processing.sync.html"
                        title="next chapter">sync</a></p>
  <h3>This Page</h3>
  <div>
    <a href="../_sources/api/brainbox.processing.processing.get_units_bunch.rst.txt"
       rel="nofollow">Show Source</a>
  </div>
<div class="this-page-menu">
  <a href="/scipy/docs/scipy-docs/api/brainbox.processing.processing.get_units_bunch.rst.rst">Edit page</a>
</div>

        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="get-units-bunch">
<h1>get_units_bunch<a class="headerlink" href="#get-units-bunch" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="brainbox.processing.processing.get_units_bunch">
<code class="sig-name descname">get_units_bunch</code><span class="sig-paren">(</span><em class="sig-param">spks_b</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#brainbox.processing.processing.get_units_bunch" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a bunch, where the bunch keys are keys from <cite>spks</cite> with labels of spike information
(e.g. unit IDs, times, features, etc.), and the values for each key are arrays with values for
each unit: these arrays are ordered and can be indexed by unit id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spks_b</strong> (<em>bunch</em>) – A spikes bunch containing fields with spike information (e.g. unit IDs, times, features,
etc.) for all spikes.</p></li>
<li><p><strong>features</strong> (<em>list of strings</em><em> (</em><em>optional positional arg</em><em>)</em>) – A list of names of labels of spike information (which must be keys in <cite>spks</cite>) that specify
which labels to return as keys in <cite>units</cite>. If not provided, all keys in <cite>spks</cite> are returned
as keys in <cite>units</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>units_b</strong> – A bunch with keys of labels of spike information (e.g. cluster IDs, times, features, etc.)
whose values are arrays that hold values for each unit. The arrays for each key are ordered
by unit ID.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bunch</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>1) Create a units bunch given a spikes bunch, and get the amps for unit #4 from the units
bunch.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">brainbox</span> <span class="k">as</span> <span class="nn">bb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">alf.io</span> <span class="k">as</span> <span class="nn">aio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ibllib.ephys.spikes</span> <span class="k">as</span> <span class="nn">e_spks</span>
<span class="go">(*Note, if there is no &#39;alf&#39; directory, make &#39;alf&#39; directory from &#39;ks2&#39; output directory):</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e_spks</span><span class="o">.</span><span class="n">ks2_to_alf</span><span class="p">(</span><span class="n">path_to_ks_out</span><span class="p">,</span> <span class="n">path_to_alf_out</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spks_b</span> <span class="o">=</span> <span class="n">aio</span><span class="o">.</span><span class="n">load_object</span><span class="p">(</span><span class="n">path_to_alf_out</span><span class="p">,</span> <span class="s1">&#39;spikes&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">units_b</span> <span class="o">=</span> <span class="n">bb</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">get_units_bunch</span><span class="p">(</span><span class="n">spks_b</span><span class="p">)</span>
<span class="go"># Get amplitudes for unit 4.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">amps</span> <span class="o">=</span> <span class="n">units_b</span><span class="p">[</span><span class="s1">&#39;amps&#39;</span><span class="p">][</span><span class="s1">&#39;4&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>TODO add computation time estimate?</p>
</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2020, Berk Gercek, Jai Bhagat, Matthew Whiteway, Olivier Winter,International Brain Laboratory.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>